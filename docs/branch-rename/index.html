<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Renaming Default Branch to &lsquo;Main&rsquo; Many tech communities, including GitHub and Git, have moved away from the term “master branch” and replaced it with “main branch” in an effort to remove unnecessary references to slavery and use more inclusive terms. This was also discussed on the LLVM-dev mailing list and there was strong consensus from LLVM Developers’ that the LLVM Project should also rename our master branch as well. Now that an industry standard name has been selected by GitHub, the LLVM Project can begin the renaming process of the default branch to “main”."><meta property="og:title" content="Branch Renaming"><meta property="og:description" content="Renaming Default Branch to &lsquo;Main&rsquo; Many tech communities, including GitHub and Git, have moved away from the term “master branch” and replaced it with “main branch” in an effort to remove unnecessary references to slavery and use more inclusive terms. This was also discussed on the LLVM-dev mailing list and there was strong consensus from LLVM Developers’ that the LLVM Project should also rename our master branch as well. Now that an industry standard name has been selected by GitHub, the LLVM Project can begin the renaming process of the default branch to “main”."><meta property="og:type" content="article"><meta property="og:url" content="https://foundation.llvm.org/docs/branch-rename/"><meta property="article:modified_time" content="2022-05-13T20:30:29+02:00"><title>Branch Renaming | LLVM Foundation</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.915e4f047d9f1cd9a6300c996734a31937e0e43c15c79099c864c4683c065cee.css integrity="sha256-kV5PBH2fHNmmMAyZZzSjGTfg5DwVx5CZyGTEaDwGXO4="><script defer src=/en.search.min.ec5ff884320aee27986cee7896f16c3606ab4254df89ad8ac5b0c02e47a29714.js integrity="sha256-7F/4hDIK7ieYbO54lvFsNgarQlTfia2KxbDALkeilxQ="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><img src=/logo.png alt=Logo><span>LLVM Foundation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><a href=/docs/board/>Board of Directors</a></p></li><li><p><a href=/docs/public-docs/>Public Documents</a></p></li><li><p><a href=/docs/sponsors/>Sponsors</a></p></li><li><p><a href=/docs/relicensing/>Relicensing</a></p><ul><li><a href=/docs/relicensing_long_tail/>Long tail</a></li></ul></li><li><p><a href=/docs/branch-rename/ class=active>Renaming</a></p></li><li><p><a href=/docs/infrastructure-wg/>Infrastructure</a></p></li><li><p><a href=/>Contact Us</a></p></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Branch Renaming</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#renaming-default-branch-to-main>Renaming Default Branch to &lsquo;Main&rsquo;</a><ul><li><a href=#instructions>Instructions</a></li><li><a href=#status>Status</a><ul><li><a href=#as-of-20201112>As of 2020.11.12</a></li><li><a href=#as-of-20201202>As of 2020.12.02</a></li><li><a href=#as-of-20201207>As of 2020.12.07</a></li><li><a href=#as-of-20210111>As of 2021.01.11</a></li><li><a href=#as-of-20210128>As of 2021.01.28</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=renaming-default-branch-to-main>Renaming Default Branch to &lsquo;Main&rsquo;</h1><p>Many tech communities, including GitHub and Git, have moved away from the term
“master branch” and replaced it with “main branch” in an effort to remove
unnecessary references to slavery and use more inclusive terms. This was also
discussed on the LLVM-dev mailing list and there was strong consensus from LLVM
Developers’ that the LLVM Project should also rename our master branch as well.
Now that an industry standard name has been selected by GitHub, the LLVM
Project can begin the renaming process of the default branch to “main”.</p><p>This change will occur at <strong>06:00GMT on Monday, December 7, 2020</strong>
(time is <strong>GMT</strong>, please adjust for your local timezone).</p><p>To make this as easy as possible we plan to do the following prior to
November 20, 2020:</p><ul><li>Create a new branch named &lsquo;test-main&rsquo; on the llvm-project repository<ul><li>This branch will be read-only except for the LLVMBOT account</li><li>Set up a GitHub action to mirror commits from &lsquo;master&rsquo; to ‘test-main&rsquo;
automatically</li><li>Allow the configuration to soak for a few days to ensure everything works</li></ul></li><li>Create a new branch named “main” on the llvm-project repository<ul><li>This branch will be readonly initially</li><li>Reuse the previous Github Action to mirror master to main</li><li>This configuration will stay in place until cut over takes place on Dec. 7</li></ul></li></ul><p>On December 7, 2020:</p><ul><li>We will lock the master branch and change it to be readonly (except the
llvmbot account)</li><li>Switch the GitHub action to mirror commits from the new main branch back to
the old master branch</li><li>Make a few test commits to ensure the GitHub action is functioning as expected</li><li>Open the main branch to commits from community members</li><li>In parallel, we will begin to work through the rest of the llvm organization
repositories to update branch names as well</li><li>We will update the developer policy to reflect the change in workflow</li></ul><p>On January 28th, 2021:</p><ul><li>We will remove the ‘master’ branch from all repositories in the llvm
organization</li></ul><p>As we work towards December 7, 2020 we are going to set up a test of this system
on a fork of the llvm-project in order to simulate the cut over. If we
encounter any issues we will update the community on llvm-dev. We expect the
llvm-project repository to be unavailable to developers for approximately 1 hour
while the switch is made. Lockout will occur promptly at 06:00GMT on the 7th.
Certainly if we finish sooner, we will update llvm-dev to let everyone know the
repository is available for use once again.</p><h2 id=instructions>Instructions</h2><p>It was noted on the mailing list it might be helpful to include some basic
instructions for folks requiring assistance with migrating to the new &lsquo;main&rsquo;
branch. Here are two examples of steps one might take to accomplish this task:</p><p>In my local llvm-project directory:</p><pre><code>git fetch origin
git checkout origin/main -b main
</code></pre><p>When you are ready to remove your local &lsquo;master&rsquo; branch run:</p><pre><code>git branch -d master
</code></pre><p>Here is an alternative approach provided by Mehdi Amini</p><pre><code># if not already on the master branch
git checkout master

# Rename the branch locally
git branch -m main

# Update the tracking so that `git pull`/`git push` lookup the remote main
git branch -u origin/main
</code></pre><h2 id=status>Status</h2><p>Project status updates and news will be kept up to date and shared on this
webpage. Please refer to this page to find the most up to date information.</p><h3 id=as-of-20201112>As of 2020.11.12</h3><ul><li>Following discussion on llvm-dev, we have reached a decision to rename the
default branch for llvm-project
to &lsquo;main&rsquo;<ul><li><a href=https://lists.llvm.org/pipermail/llvm-dev/2020-June/142445.html>Thread</a></li></ul></li><li>Tom Stellard is working through testing the GitHub actions used to keep
branches in sync</li><li>We anticipate having the new &lsquo;main&rsquo; branch created and syncing with &lsquo;master&rsquo;
by November 20th</li></ul><h3 id=as-of-20201202>As of 2020.12.02</h3><ul><li>We have completed testing of the use of the llvmbot account to keep test-main
branch in sync with the master branch</li><li>We have dropped the test-main branch and have created the permanent main
branch</li><li>LLVMBOT is now keeping main in sync with master</li><li>Unless any major issues are encountered in the next few days, we are on track
to swap the default branch to main on December 7 as expected</li></ul><h3 id=as-of-20201207>As of 2020.12.07</h3><ul><li>We have updated the llvm-project repository to use the &lsquo;main&rsquo; branch by
default</li><li>We have corrected issues with the commit mail-list integration</li><li>The &lsquo;master&rsquo; branch is now in &ldquo;read-only&rdquo; mode and will remain so until
January 28th, 2021</li><li>We are beginning to work through documentation and other projects in the llvm
org to get them updated as well</li></ul><h3 id=as-of-20210111>As of 2021.01.11</h3><ul><li>We are working through the remaining repositories in the LLVM GitHub
organization</li><li>llvm-lnt & llvm-testsuite were updated to use main today</li><li>We have sent emails out to other repository owners to enlist their assistance
with renaming</li><li>We still look good to have this effort wrapped up by the 28th of this month</li></ul><h3 id=as-of-20210128>As of 2021.01.28</h3><ul><li>The removal of the &ldquo;master&rdquo; branch from all repositories in the LLVM org on
GitHub has been completed.</li></ul></article><footer class=book-footer><div class="flex justify-between"><div><a class="flex align-center" href=https://github.com/llvm/llvm-foundation-www/commit/8acb6b1e4a6f7e8e7d77290479f7b65dacf61418 title="Last modified by Kristof Beyls | May 13, 2022" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 13, 2022</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#renaming-default-branch-to-main>Renaming Default Branch to &lsquo;Main&rsquo;</a><ul><li><a href=#instructions>Instructions</a></li><li><a href=#status>Status</a><ul><li><a href=#as-of-20201112>As of 2020.11.12</a></li><li><a href=#as-of-20201202>As of 2020.12.02</a></li><li><a href=#as-of-20201207>As of 2020.12.07</a></li><li><a href=#as-of-20210111>As of 2021.01.11</a></li><li><a href=#as-of-20210128>As of 2021.01.28</a></li></ul></li></ul></li></ul></nav></aside></main></body></html>